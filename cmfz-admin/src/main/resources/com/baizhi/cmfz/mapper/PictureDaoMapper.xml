<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "../mybatis-3-mapper.dtd" >
<mapper namespace="com.baizhi.cmfz.dao.PictureDao">

    <resultMap id="PictureResultMap" type="Picture">
        <id property="pictureId" column="picture_id" />
        <result property="picturePath" column="picture_path" />
        <result property="pictureDate" column="picture_date" />
        <result property="pictureDescription" column="picture_description" />
        <result property="pictureStatus" column="picture_status" />
    </resultMap>
    <select id="findAllPictureByPage" resultMap="PictureResultMap">
        select * from t_picture limit #{begin} , #{end}
    </select>
    <select id="count" resultType="java.lang.Integer">
        select count(*) from t_picture
    </select>
    <insert id="insertPicture">
        insert into t_picture values(#{pictureId} , #{picturePath} , #{pictureDate} , #{pictureDescription} , #{pictureStatus})
    </insert>
    <select id="findPictureById" resultMap="PictureResultMap">
        select * from t_picture where picture_id = #{pictureId}
    </select>
    <update id="updatePicture">
        update t_picture
        <set >
            <if test="picturePath != null" >
                picture_path = #{picturePath,jdbcType=VARCHAR},
            </if>
            <if test="pictureDate != null" >
                picture_date = #{pictureDate,jdbcType=TIMESTAMP},
            </if>
            <if test="pictureDescription != null" >
                picture_description = #{pictureDescription,jdbcType=VARCHAR},
            </if>
            <if test="pictureStatus != null" >
                picture_status = #{pictureStatus,jdbcType=VARCHAR},
            </if>
        </set>
        where picture_id = #{pictureId,jdbcType=VARCHAR}
    </update>
</mapper>
